<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>TV应用合集</title>
    <style>
        /* 重置样式 + 16:9基础设置 */
        * { margin: 0; padding: 0; box-sizing: border-box; outline: none; }
        body { 
            background: #1a1a1a; 
            margin: 0; 
            padding: 15px; /* 最小边距，最大化显示空间 */
            font-family: "Microsoft Yahei", Arial, sans-serif; 
            color: #fff;
            overflow-x: hidden;
            font-size: 12px;
        }
        
        /* 头部样式（精简，不占用过多16:9空间） */
        header { 
            text-align: center; 
            margin-bottom: 15px; 
            padding: 8px 0;
            border-bottom: 1px solid #333;
        }
        h1 { 
            color: #409eff; 
            font-size: 24px; 
            margin: 0;
            text-shadow: 0 0 6px rgba(64, 158, 255, 0.5);
        }
        .tips { 
            color: #999; 
            font-size: 14px; 
            margin-top: 5px;
        }
        
        /* 应用网格布局（16:9优先多列，自动填充） */
        .app-grid { 
            display: flex;
            flex-wrap: wrap;
            gap: 10px; /* 极小间距，支持更多列 */
            justify-content: center; /* 16:9居中填充，无多余空白 */
            width: 100%;
            max-width: 1920px; /* 适配16:9大屏上限 */
            margin: 0 auto;
            padding-bottom: 20px;
        }
        
        /* 超小卡片设计（16:9下支持6列以上） */
        .app-card { 
            width: 120px; /* 超小宽度，16:9下720P(1280px)可显示10列，1080P(1920px)可显示15列 */
            background: #2d2d2d; 
            border-radius: 8px; 
            padding: 10px 8px; 
            text-align: center; 
            cursor: pointer; 
            transition: all 0.15s ease; /* 快速过渡，一键切换更流畅 */
            border: 2px solid transparent;
            height: 140px; /* 超小高度，节省纵向空间 */
            display: flex;
            flex-direction: column;
            justify-content: center;
            flex-shrink: 0; /* 强制保持宽度，确保多列整齐 */
        }
        
        /* 焦点样式（小卡片仍清晰可见） */
        .app-card:focus { 
            transform: scale(1.05); /* 小幅放大，不遮挡周围卡片 */
            box-shadow: 0 0 12px rgba(64, 158, 255, 0.8);
            border-color: #409eff;
            background: #333;
            z-index: 10;
        }
        
        /* 超小图标容器 */
        .icon-container {
            width: 70px; /* 匹配70x70图标 */
            height: 70px;
            margin: 0 auto 8px;
            background: #fff;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }
        
        /* 图标大小匹配容器 */
        .app-icon { 
            width: 60px; 
            height: 60px;
            object-fit: contain;
        }
        
        /* 应用名称（超小字体，不换行） */
        .app-name { 
            font-size: 13px; 
            color: #eee; 
            margin: 0 0 6px 0; 
            white-space: nowrap; 
            overflow: hidden; 
            text-overflow: ellipsis;
            padding: 0 3px;
        }
        
        /* 超小下载按钮 */
        .download-btn { 
            background: #409eff; 
            color: white; 
            border: none; 
            padding: 4px 0; 
            border-radius: 4px; 
            font-size: 12px; 
            width: 100%; 
            cursor: pointer;
            transition: background 0.15s;
        }
        .app-card:focus .download-btn {
            background: #2585e6;
        }
        
        /* 16:9响应式适配（自动调整列数，始终保持多列） */
        /* 大屏16:9（≥1600px）：12+列 */
        @media (min-width: 1600px) {
            .app-card { width: 130px; }
        }
        /* 中屏16:9（1280px-1599px，如720P）：10列左右 */
        @media (min-width: 1280px) and (max-width: 1599px) {
            .app-card { width: 120px; }
        }
        /* 小屏16:9（960px-1279px）：8列左右 */
        @media (min-width: 960px) and (max-width: 1279px) {
            .app-card { width: 110px; }
        }
        /* 迷你16:9（<960px）：6列左右 */
        @media (max-width: 959px) {
            .app-card { width: 100px; height: 130px; }
            .icon-container { width: 60px; height: 60px; }
            .app-icon { width: 50px; height: 50px; }
            .app-name { font-size: 12px; }
        }
    </style>
</head>
<body>
    <header tabindex="0">
        <h1>TV应用合集</h1>
        <p class="tips">遥控器上下左右一键切换，回车下载 | 共 12 个应用</p>
    </header>

    <div class="app-grid">
        <div class="app-card" tabindex="1" onclick="window.open('http://abc.apei583.top:5244/d/APP/tvapp/BrowseHere浏览器_8.02.085_eb15043_251031_gp.apk')">
            <div class="icon-container">
                <img src="http://abc.apei583.top:5244/d/APP/tvapp/icon/BrowseHere浏览器_8.02.085_eb15043_251031_gp.png" class="app-icon" alt="BrowseHere浏览器_8.02.085_eb15043_251031_gp">
            </div>
            <div class="app-name">BrowseHere浏览器_8.02.085_eb15043_251031_gp</div>
            <button class="download-btn">下载</button>
        </div>
        <div class="app-card" tabindex="2" onclick="window.open('http://abc.apei583.top:5244/d/APP/tvapp/高清电视_2.96.apk')">
            <div class="icon-container">
                <img src="http://abc.apei583.top:5244/d/APP/tvapp/icon/高清电视_2.96.png" class="app-icon" alt="高清电视_2.96">
            </div>
            <div class="app-name">高清电视_2.96</div>
            <button class="download-btn">下载</button>
        </div>
        <div class="app-card" tabindex="3" onclick="window.open('http://abc.apei583.top:5244/d/APP/tvapp/千寻_1.1.2.apk')">
            <div class="icon-container">
                <img src="http://abc.apei583.top:5244/d/APP/tvapp/icon/千寻_1.1.2.png" class="app-icon" alt="千寻_1.1.2">
            </div>
            <div class="app-name">千寻_1.1.2</div>
            <button class="download-btn">下载</button>
        </div>
        <div class="app-card" tabindex="4" onclick="window.open('http://abc.apei583.top:5244/d/APP/tvapp/野草助手小米海信版_2.0.8.apk')">
            <div class="icon-container">
                <img src="http://abc.apei583.top:5244/d/APP/tvapp/icon/野草助手小米海信版_2.0.8.png" class="app-icon" alt="野草助手小米海信版_2.0.8">
            </div>
            <div class="app-name">野草助手小米海信版_2.0.8</div>
            <button class="download-btn">下载</button>
        </div>
        <div class="app-card" tabindex="5" onclick="window.open('http://abc.apei583.top:5244/d/APP/tvapp/丰彩TV_1.0.2.apk')">
            <div class="icon-container">
                <img src="http://abc.apei583.top:5244/d/APP/tvapp/icon/丰彩TV_1.0.2.png" class="app-icon" alt="丰彩TV_1.0.2">
            </div>
            <div class="app-name">丰彩TV_1.0.2</div>
            <button class="download-btn">下载</button>
        </div>
        <div class="app-card" tabindex="6" onclick="window.open('http://abc.apei583.top:5244/d/APP/tvapp/QuickFox_1.2.6.apk')">
            <div class="icon-container">
                <img src="http://abc.apei583.top:5244/d/APP/tvapp/icon/default.png" class="app-icon" alt="QuickFox_1.2.6">
            </div>
            <div class="app-name">QuickFox_1.2.6</div>
            <button class="download-btn">下载</button>
        </div>
        <div class="app-card" tabindex="7" onclick="window.open('http://abc.apei583.top:5244/d/APP/tvapp/独播库TV_6.2.apk')">
            <div class="icon-container">
                <img src="http://abc.apei583.top:5244/d/APP/tvapp/icon/独播库TV_6.2.png" class="app-icon" alt="独播库TV_6.2">
            </div>
            <div class="app-name">独播库TV_6.2</div>
            <button class="download-btn">下载</button>
        </div>
        <div class="app-card" tabindex="8" onclick="window.open('http://abc.apei583.top:5244/d/APP/tvapp/新喵影视_1.1.3.apk')">
            <div class="icon-container">
                <img src="http://abc.apei583.top:5244/d/APP/tvapp/icon/新喵影视_1.1.3.png" class="app-icon" alt="新喵影视_1.1.3">
            </div>
            <div class="app-name">新喵影视_1.1.3</div>
            <button class="download-btn">下载</button>
        </div>
        <div class="app-card" tabindex="9" onclick="window.open('http://abc.apei583.top:5244/d/APP/tvapp/小苹果影视盒子_1.6.1.apk')">
            <div class="icon-container">
                <img src="http://abc.apei583.top:5244/d/APP/tvapp/icon/小苹果影视盒子_1.6.1.png" class="app-icon" alt="小苹果影视盒子_1.6.1">
            </div>
            <div class="app-name">小苹果影视盒子_1.6.1</div>
            <button class="download-btn">下载</button>
        </div>
        <div class="app-card" tabindex="10" onclick="window.open('http://abc.apei583.top:5244/d/APP/tvapp/昭昭TV_1.0.3.apk')">
            <div class="icon-container">
                <img src="http://abc.apei583.top:5244/d/APP/tvapp/icon/昭昭TV_1.0.3.png" class="app-icon" alt="昭昭TV_1.0.3">
            </div>
            <div class="app-name">昭昭TV_1.0.3</div>
            <button class="download-btn">下载</button>
        </div>
        <div class="app-card" tabindex="11" onclick="window.open('http://abc.apei583.top:5244/d/APP/tvapp/SmartTube_30.48.apk')">
            <div class="icon-container">
                <img src="http://abc.apei583.top:5244/d/APP/tvapp/icon/SmartTube_30.48.png" class="app-icon" alt="SmartTube_30.48">
            </div>
            <div class="app-name">SmartTube_30.48</div>
            <button class="download-btn">下载</button>
        </div>
        <div class="app-card" tabindex="12" onclick="window.open('http://abc.apei583.top:5244/d/APP/tvapp/爱壹帆_2.3.4.apk')">
            <div class="icon-container">
                <img src="http://abc.apei583.top:5244/d/APP/tvapp/icon/爱壹帆_2.3.4.png" class="app-icon" alt="爱壹帆_2.3.4">
            </div>
            <div class="app-name">爱壹帆_2.3.4</div>
            <button class="download-btn">下载</button>
        </div>
    </div>

    <script>
        // 核心优化：16:9适配+一键切换（按一下直接选中下一个）
        const focusable = document.querySelectorAll('.app-card, header');
        let currentIndex = 0;
        const totalItems = focusable.length;
        let columnCount = calculateColumnCount(); // 16:9比例精准列数
        let cardElements = Array.from(document.querySelectorAll('.app-card'));
        
        // 初始聚焦到头部（一键切换生效）
        focusable[currentIndex].focus();

        // 16:9比例优化列数计算（确保多列显示）
        function calculateColumnCount() {
            const grid = document.querySelector('.app-grid');
            const card = document.querySelector('.app-card');
            if (!grid || !card) return 6; // 最低保证6列
            
            const gridWidth = grid.clientWidth;
            const cardWidth = card.offsetWidth;
            const gap = parseFloat(window.getComputedStyle(grid).gap);
            
            // 16:9下强制最少6列，最多根据宽度自动扩展
            const count = Math.max(6, Math.floor(gridWidth / (cardWidth + gap)));
            console.log(`16:9屏幕列数：${count}（网格宽：${gridWidth}，卡片宽：${cardWidth}）`);
            return count;
        }

        // 窗口大小变化时实时更新列数（16:9比例自适应）
        window.addEventListener('resize', () => {
            columnCount = calculateColumnCount();
        });

        // 一键切换逻辑（按一下直接选中，无延迟）
        document.onkeydown = function(e) {
            e = e || window.event;
            const key = e.key || e.keyCode;
            let newIndex = currentIndex;

            const isOnHeader = currentIndex === 0;
            const firstAppIndex = 1;
            const lastAppIndex = totalItems - 1;

            // 取消按键重复触发延迟（关键：实现一键切换）
            e.repeat = false;

            switch(key) {
                // 向右：按一下→下一个（无延迟）
                case 'ArrowRight': case 39:
                    if (isOnHeader) {
                        newIndex = firstAppIndex; // 头部→第一个应用
                    } else {
                        newIndex = Math.min(currentIndex + 1, lastAppIndex); // 不循环
                    }
                    break;

                // 向左：按一下→上一个（无延迟）
                case 'ArrowLeft': case 37:
                    if (currentIndex === firstAppIndex) {
                        newIndex = 0; // 第一个应用→头部
                    } else if (!isOnHeader) {
                        newIndex = currentIndex - 1;
                    }
                    break;

                // 向下：按一下→同列下一行（无延迟）
                case 'ArrowDown': case 40:
                    if (isOnHeader) {
                        newIndex = firstAppIndex; // 头部→第一个应用
                    } else {
                        const cardIndex = currentIndex - 1;
                        const nextCardIndex = cardIndex + columnCount;
                        if (nextCardIndex < cardElements.length) {
                            newIndex = nextCardIndex + 1;
                        } else {
                            newIndex = currentIndex; // 底部不循环
                        }
                    }
                    break;

                // 向上：按一下→同列上一行（无延迟）
                case 'ArrowUp': case 38:
                    if (isOnHeader) {
                        newIndex = 0; // 头部向上无效
                    } else {
                        const cardIndex = currentIndex - 1;
                        const prevCardIndex = cardIndex - columnCount;
                        if (prevCardIndex >= 0) {
                            newIndex = prevCardIndex + 1;
                        } else {
                            newIndex = 0; // 顶部→头部
                        }
                    }
                    break;

                // 回车下载（按一下触发）
                case 'Enter': case 13:
                    if (!isOnHeader) {
                        focusable[currentIndex].click();
                        const appName = focusable[currentIndex].querySelector('.app-name').textContent;
                        console。log(`正在下载：${appName}`);
                    }
                    break;

                case 'Escape': case 27:
                    return;
                默认:
                    return;
            }

            // 立即更新焦点（无延迟，实现一键切换）
            if (newIndex !== currentIndex) {
                currentIndex = newIndex;
                focusable[currentIndex].focus();
                
                // 快速滚动到可视区域（不卡顿）
                focusable[currentIndex].scrollIntoView({
                    behavior: 'instant', // 即时滚动，无平滑延迟
                    block: 'nearest',
                    inline: 'nearest'
                });
            }

            // 阻止默认行为和按键重复（关键：避免按一下触发多次）
            e.preventDefault();
            e.stopPropagation();
            return false;
        };
    </script>
</body>
</html>
