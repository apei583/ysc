<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TV应用合集</title>
    <!-- 改用CDN加速的Tailwind，确保加载稳定 -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* 遥控器焦点样式：电视端关键 */
        .focusable {
            outline: none;
            transition: all 0.2s ease;
        }
        .focusable:focus {
            transform: scale(1.05);
            box-shadow: 0 0 15px rgba(37, 99, 235, 0.8);
            z-index: 10;
        }
        /* 应用卡片基础样式：固定高度，避免渲染错乱 */
        .app-card {
            background: white;
            border-radius: 8px;
            overflow: hidden;
            cursor: pointer;
            height: 180px; /* 固定高度，确保所有卡片一致 */
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        /* 网格布局兼容写法：适配所有浏览器 */
        .app-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); /* 自动适配，最小宽度120px */
            gap: 16px;
        }
    </style>
</head>
<body class="bg-gray-100 min-h-screen p-4">
    <!-- 标题区 -->
    <header class="text-center mb-6 focusable" tabindex="0">
        <h1 class="text-3xl font-bold text-blue-700">TV应用合集</h1>
        <p class="text-gray-500 mt-2">遥控器上下左右选择，回车下载</p>
    </header>

    <!-- 应用列表（横排6列，兼容写法，不会空白） -->
    <main class="container mx-auto">
        <div id="appList" class="app-grid">
            <!-- 动态生成应用卡片 -->
        </div>
    </main>

    <script>
        // 应用数据（不变）
        const appData = [
            {"name":"戏曲多多","icon":"https://vip.123yx.com/1836335803/tvbox/app/icon/戏曲多多.png","apk":"https://vip.123yx.com/1836335803/tvbox/app/apk/戏曲多多.apk"},
            {"name":"小学名师课堂","icon":"https://vip.123yx.com/1836335803/tvbox/app/icon/小学名师课堂.png","apk":"https://vip.123yx.com/1836335803/tvbox/app/apk/小学名师课堂.apk"},
            {"name":"儿歌多多","icon":"https://vip.123yx.com/1836335803/tvbox/app/icon/儿歌多多.png","apk":"https://vip.123yx.com/1836335803/tvbox/app/apk/儿歌多多.apk"},
            {"name":"小米高清播放器","icon":"https://vip.123yx.com/1836335803/tvbox/app/icon/高清播放器.png","apk":"https://vip.123yx.com/1836335803/tvbox/app/apk/高清播放器.apk"},
            {"name":"千寻直播","icon":"https://vip.123yx.com/1836335803/tvbox/app/icon/千寻电视.png","apk":"https://vip.123yx.com/1836335803/tvbox/app/apk/千寻电视.apk"},
            {"name":"VIP影视","icon":"https://vip.123yx.com/1836335803/tvbox/app/icon/VIP影视.png","apk":"https://vip.123yx.com/1836335803/tvbox/app/apk/VIP影视.apk"},
            {"name":"茶杯狐TV","icon":"https://vip.123yx.com/1836335803/tvbox/app/icon/茶杯狐TV.png","apk":"https://vip.123yx.com/1836335803/tvbox/app/apk/茶杯狐TV.apk"},
            {"name":"电视直播","icon":"https://vip.123yx.com/1836335803/tvbox/app/icon/电视直播.png","apk":"https://vip.123yx.com/1836335803/tvbox/app/apk/电视直播.apk"},
            {"name":"新特狗TV","icon":"https://vip.123yx.com/1836335803/tvbox/app/icon/新特狗TV.png","apk":"https://vip.123yx.com/1836335803/tvbox/app/apk/新特狗TV.apk"},
            {"name":"小苹果影视盒子","icon":"https://vip.123yx.com/1836335803/tvbox/app/icon/小苹果影视盒子.png","apk":"https://vip.123yx.com/1836335803/tvbox/app/apk/小苹果影视盒子.apk"},
            {"name":"米家","icon":"https://vip.123yx.com/1836335803/tvbox/app/icon/米家.png","apk":"https://vip.123yx.com/1836335803/tvbox/app/apk/米家.apk"},
            {"name":"音速直播","icon":"https://vip.123yx.com/1836335803/tvbox/app/icon/音速直播.png","apk":"https://vip.123yx.com/1836335803/tvbox/app/apk/音速直播.apk"},
            {"name":"小飞电视2.61","icon":"https://vip.123yx.com/1836335803/tvbox/app/icon/小飞电视.png","apk":"https://vip.123yx.com/1836335803/tvbox/app/apk/小飞电视.apk"},
            {"name":"直播大全","icon":"https://vip.123yx.com/1836335803/tvbox/app/icon/直播大全.png","apk":"https://vip.123yx.com/1836335803/tvbox/app/apk/直播大全.apk"},
            {"name":"饭太硬影视","icon":"https://vip.123yx.com/1836335803/tvbox/app/icon/饭太硬.png","apk":"https://vip.123yx.com/1836335803/tvbox/app/apk/饭太硬.apk"}
        ];

        // 渲染应用卡片：恢复合适尺寸，避免空白
        function renderApps() {
            const appList = document.getElementById('appList');
            // 清空列表（避免重复渲染）
            appList.innerHTML = '';
            
            appData.forEach((app, index) => {
                const appCard = document.createElement('div');
                appCard.className = 'app-card p-3 focusable';
                appCard.tabIndex = index + 1; // 遥控器导航索引
                appCard.dataset.apk = app.apk;
                // 恢复图标和文字尺寸，确保显示完整
                appCard.innerHTML = `
                    <div class="flex flex-col items-center text-center">
                        <img src="${app.icon}" alt="${app.name}" class="w-20 h-20 object-contain mb-2">
                        <h3 class="text-sm font-bold text-gray-800 leading-tight">${app.name}</h3> <!-- 换行显示长名称 -->
                        <button class="mt-2 w-full bg-green-600 hover:bg-green-700 text-white py-1.5 rounded text-sm focus:outline-none">
                            <i class="fas fa-download mr-1"></i> 下载
                        </button>
                    </div>
                `;
                appList.appendChild(appCard);
            });
        }

        // 遥控器导航：适配6列，修复跳转逻辑
        function initRemoteControl() {
            const focusableElements = document.querySelectorAll('.focusable');
            const total = focusableElements.length;
            const colCount = 6; // 横排6列
            let currentIndex = 0;

            // 确保元素存在再聚焦（避免报错）
            if (focusableElements。length > 0) {
                focusableElements[currentIndex].focus();
            }

            document.addEventListener('keydown'， (e) => {
                // 避免无元素时报错
                if (total === 0) return;

                switch(e.key) {
                    case 'ArrowDown': // 下键：同列下一行（+6）
                        // 修复最后一行下键不越界
                        const nextDownIndex = currentIndex + colCount;
                        currentIndex = nextDownIndex < total ? nextDownIndex : currentIndex;
                        focusableElements[currentIndex]。focus();
                        e。preventDefault();
                        break;
                    case 'ArrowUp': // 上键：同列上一行（-6）
                        const nextUpIndex = currentIndex - colCount;
                        currentIndex = nextUpIndex >= 0 ? nextUpIndex : currentIndex;
                        focusableElements[currentIndex]。focus();
                        e。preventDefault();
                        break;
                    case 'ArrowLeft': // 左键：左移1个
                        currentIndex = (currentIndex - 1 + total) % total;
                        focusableElements[currentIndex].focus();
                        e.preventDefault();
                        break;
                    case 'ArrowRight': // 右键：右移1个
                        currentIndex = (currentIndex + 1) % total;
                        focusableElements[currentIndex]。focus();
                        e.preventDefault();
                        break;
                    case 'Enter': // 回车下载
                        const apkUrl = focusableElements[currentIndex].dataset.apk;
                        if (apkUrl) window.open(apkUrl, '_blank');
                        e.preventDefault();
                        break;
                }
            });

            // 点击下载（兼容鼠标）
            focusableElements.forEach(el => {
                el.addEventListener('click', () => {
                    const apkUrl = el.dataset.apk;
                    if (apkUrl) window。open(apkUrl， '_blank');
                });
            });
        }

        // 初始化：确保DOM加载完成再渲染
        document.addEventListener('DOMContentLoaded'， () => {
            renderApps();
            initRemoteControl();
        });
    </script>
</body>
</html>
